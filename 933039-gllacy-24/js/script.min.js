var buttonFeedbackPopup=document.querySelector(".our-contacts-button"),popupFeedbackWindow=document.querySelector(".popup-feedback"),popupOverlay=document.querySelector(".overlay"),popupFeedbackForm=popupFeedbackWindow.querySelector(".feedback-form"),popupFeedbackClose=popupFeedbackForm.querySelector(".popup-close"),popupFeedbackName=popupFeedbackForm.querySelector("[name=customer-name]"),popupFeedbackEmail=popupFeedbackForm.querySelector("[name=customer-email]"),popupFeedbackMessage=popupFeedbackWindow.querySelector("[name=customer-feedback]"),hasStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem(name),storageEmail=localStorage.getItem(email)}catch(e){hasStorageSupport=!1}buttonFeedbackPopup.addEventListener("click",function(e){e.preventDefault(),popupFeedbackWindow.classList.add("popup-show"),popupOverlay.classList.add("overlay-show"),storageName&&storageEmail?(popupFeedbackName.value=storageName,popupFeedbackEmail.value=storageEmail,popupFeedbackMessage.focus()):popupFeedbackName.focus()}),popupFeedbackClose.addEventListener("click",function(e){e.preventDefault(),popupFeedbackWindow.classList.remove("popup-show"),popupFeedbackWindow.classList.remove("popup-error"),popupOverlay.classList.remove("overlay-show")}),popupFeedbackForm.addEventListener("submit",function(e){e.preventDefault(),popupFeedbackName.value&&popupFeedbackEmail.value&&popupFeedbackMessage.value?(hasStorageSupport&&(localStorage.setItem("name",popupFeedbackName.value),localStorage.setItem("email",popupFeedbackEmail.value)),popupFeedbackForm.submit()):(e.preventDefault(),popupFeedbackWindow.classList.remove("popup-error"),popupFeedbackWindow.offsetWidth=popupFeedbackWindow.offsetWidth,popupFeedbackWindow.classList.add("popup-error"))}),document.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popupFeedbackWindow.classList.contains("popup-show")&&(popupFeedbackWindow.classList.remove("popup-show"),popupFeedbackWindow.classList.remove("popup-error"),popupOverlay.classList.remove("overlay-show")))});